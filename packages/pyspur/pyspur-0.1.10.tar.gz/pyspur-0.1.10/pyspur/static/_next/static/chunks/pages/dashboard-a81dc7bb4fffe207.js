(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[724],{87100:(e,r,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return s(21681)}])},21681:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>ee});var t=s(74848),a=s(96540),l=s(8640),n=s(77528),o=s(55456),i=s(74606),c=s(97916),d=s(59639),u=s(72748),m=s(97151),x=s(65468),h=s(29080),f=s(76208),p=s(69231),w=s(23825),g=s(22424),j=s(33016),b=s(15445),y=s(98536),v=s(64030),N=(e,r)=>(0,v.Gv)(e)?e instanceof Array?[...e]:e[r]:e,k=s(88344),C=s(83785),S=s(60550),E=s(53171),I=s(92176),P=s(7728),_=s(85202),D=s(37399),O=s(90657),T=s(90708),R=s(13368),A=s.n(R),L=s(86715),W=s(6911),F=s(71468),z=s(81924),q=s(90407),V=s(28624),J=s(5147);function B(e){let{title:r,description:s,features:a,onUse:l}=e;return(0,t.jsxs)(q.Z,{className:"relative w-full",children:[(0,t.jsxs)(V.U,{className:"relative min-h-[180px] bg-gradient-to-br from-content1 to-default-100/50 p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-2",children:r}),(0,t.jsx)("p",{className:"text-default-500 text-sm mb-3",children:s}),a&&a.length>0&&(0,t.jsx)("ul",{className:"list-disc pl-5 mb-2",children:a.map((e,r)=>(0,t.jsxs)("li",{className:"flex items-center text-sm",children:[(0,t.jsx)(D.In,{icon:"solar:check-circle-linear",className:"text-green-500 mr-2"}),e]},r))})]}),(0,t.jsx)(J.Z,{className:"border-t-1 border-default-100 justify-end py-2 px-4",children:(0,t.jsx)(u.T,{color:"primary",variant:"flat",onPress:l,startContent:(0,t.jsx)(D.In,{icon:"lucide:copy",width:16}),children:"Use Template"})})]})}var U=s(29123),H=s(49517),M=s(14275),Z=s(97080),G=s(83840);let K=e=>{let{isOpen:r,onClose:s,workflow:l,onSubmit:i}=e,[c,d]=(0,a.useState)("APPROVE"),[m,x]=(0,a.useState)({}),[h,f]=(0,a.useState)("");a.useEffect(()=>{var e;(null==l?void 0:null===(e=l.current_pause)||void 0===e?void 0:e.input_data)&&x(l.current_pause.input_data)},[l]);let p=(e,r)=>{let s=m[e]||"",a=r=>{x(s=>(0,o._)((0,n._)({},s),{[e]:r}))};switch(r.toLowerCase()){case"string":default:return(0,t.jsx)(H.r,{label:e,placeholder:"Enter ".concat(e),value:s,onChange:e=>a(e.target.value)},e);case"number":return(0,t.jsx)(H.r,{type:"number",label:e,placeholder:"Enter ".concat(e),value:s,onChange:e=>a(Number(e.target.value))},e);case"boolean":return(0,t.jsxs)(M.d,{label:e,placeholder:"Select ".concat(e),value:s,onChange:e=>a("true"===e.target.value),children:[(0,t.jsx)(Z.y,{value:"true",children:"True"},"true"),(0,t.jsx)(Z.y,{value:"false",children:"False"},"false")]},e)}};return(0,t.jsx)(k.Y,{size:"3xl",isOpen:r,onClose:s,children:(0,t.jsxs)(C.g,{children:[(0,t.jsxs)(S.c,{className:"flex flex-col gap-1",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Human Input Required"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-default-500",children:[(0,t.jsx)(y.R,{size:"sm",color:"warning",children:"Paused"}),(0,t.jsx)("span",{children:"•"}),(0,t.jsxs)("span",{children:["Workflow: ","name"in l.workflow?l.workflow.name:"Unnamed"]}),(0,t.jsx)("span",{children:"•"}),(0,t.jsxs)("span",{children:["Run ID: ",l.run.id]})]})]}),(0,t.jsx)(E.h,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"bg-default-100 p-4 rounded-lg",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(D.In,{icon:"lucide:alert-circle",className:"w-5 h-5 text-warning mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium",children:"Message"}),(0,t.jsx)("p",{className:"text-sm text-default-600",children:l.current_pause.pause_message}),(0,t.jsxs)("p",{className:"text-xs text-default-400 mt-1",children:["Paused ",(0,O.m)(new Date(l.current_pause.pause_time))," ago"]})]})]})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium mb-2",children:"Action"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(u.T,{color:"APPROVE"===c?"success":"default",variant:"APPROVE"===c?"solid":"bordered",onPress:()=>d("APPROVE"),children:"Approve"}),(0,t.jsx)(u.T,{color:"DECLINE"===c?"danger":"default",variant:"DECLINE"===c?"solid":"bordered",onPress:()=>d("DECLINE"),children:"Decline"}),(0,t.jsx)(u.T,{color:"OVERRIDE"===c?"warning":"default",variant:"OVERRIDE"===c?"solid":"bordered",onPress:()=>d("OVERRIDE"),children:"Override"})]})]}),"DECLINE"!==c&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium mb-2",children:"Required Inputs"}),(0,t.jsx)("div",{className:"space-y-3",children:Object.entries((()=>{var e;let r=("definition"in l.workflow?l.workflow.definition:l.workflow).nodes.find(e=>e.id===l.current_pause.node_id);return(null==r?void 0:null===(e=r.config)||void 0===e?void 0:e.input_schema)||{}})()).map(e=>{let[r,s]=e;return p(r,s)})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium mb-2",children:"Comments"}),(0,t.jsx)(G.P,{placeholder:"Add any comments about your decision...",value:h,onChange:e=>f(e.target.value)})]})]})}),(0,t.jsxs)(_.q,{children:[(0,t.jsx)(u.T,{variant:"bordered",onPress:s,children:"Cancel"}),(0,t.jsx)(u.T,{color:"primary",onPress:()=>{i(c,m,h),s()},children:"Submit Decision"})]})]})})};var X=s(99881);function Y(e){let{isOpen:r,onClose:s}=e,a=(0,F.wA)(),l=()=>{a((0,X.L)()),s()};return(0,t.jsx)(k.Y,{isOpen:r,onClose:l,children:(0,t.jsxs)(C.g,{children:[(0,t.jsx)(S.c,{children:"Welcome to PySpur! \uD83D\uDC4B"}),(0,t.jsxs)(E.h,{children:[(0,t.jsx)("p",{children:"PySpur is your platform for building and managing AI workflows."}),(0,t.jsx)("p",{children:"Get started by:"}),(0,t.jsxs)("ul",{className:"list-disc pl-6",children:[(0,t.jsx)("li",{children:"Creating a new Spur from scratch"}),(0,t.jsx)("li",{children:"Using one of our templates"}),(0,t.jsx)("li",{children:"Importing an existing workflow"})]})]}),(0,t.jsx)(_.q,{children:(0,t.jsx)(u.T,{color:"primary",onPress:l,children:"Get Started"})})]})})}let Q=()=>((0,a.useEffect)(()=>{let e=document.querySelector('script[src="https://assets.calendly.com/assets/external/widget.js"]'),r=null;e||((r=document.createElement("script")).src="https://assets.calendly.com/assets/external/widget.js",r.async=!0,document.body.appendChild(r));let s=()=>{window.Calendly&&window.Calendly.initBadgeWidget({url:"https://calendly.com/d/cnf9-57m-bv3/pyspur-founders",text:"Talk to the founders",color:"#1a1a1a",textColor:"#ffffff"})};return e?s():r&&(r.onload=s),()=>{document.querySelectorAll(".calendly-badge-widget").forEach(e=>e.remove()),document.querySelectorAll(".calendly-inline-widget").forEach(e=>e.remove()),document.querySelectorAll(".calendly-overlay").forEach(e=>e.remove()),r&&document.body.contains(r)&&document.body.removeChild(r),window.Calendly&&delete window.Calendly}},[]),null),$=()=>{let e=(0,L.useRouter)(),[r,s]=(0,a.useState)([]),[l,v]=(0,a.useState)([]),[R,q]=(0,a.useState)([]),[V,J]=(0,a.useState)(!0),[H,M]=(0,a.useState)(!1),Z=(0,F.d4)(e=>e.userPreferences.hasSeenWelcome),[G,X]=(0,a.useState)({}),[$,ee]=(0,a.useState)(!0),[er,es]=(0,a.useState)(null),[et,ea]=(0,a.useState)(1),[el,en]=(0,a.useState)(!0),[eo,ei]=(0,a.useState)(!1),[ec,ed]=(0,a.useState)([]),[eu,em]=(0,a.useState)(null),[ex,eh]=(0,a.useState)(!1),[ef,ep]=(0,a.useState)(!1),[ew,eg]=(0,a.useState)(null),[ej,eb]=(0,a.useState)("default"),[ey,ev]=(0,a.useState)(!1),{isOpen:eN,onOpen:ek,onClose:eC}=(0,c.j)(),[eS,eE]=(0,a.useState)(i.Z.WORKFLOW),eI=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";eg(e),eb(r),ev(!0),setTimeout(()=>{ev(!1)},5e3)};(0,a.useEffect)(()=>{(async()=>{ee(!0);try{let e=await (0,z.bg)(1),r=await Promise.all(e.map(e=>e_(e.id))).then(r=>{let s={};return e.forEach((e,t)=>{s[e.id]=r[t]||[]}),s}),t=[...e].sort((e,r)=>new Date(r.updated_at).getTime()-new Date(e.updated_at).getTime());s(t),M(!Z&&0===e.length),X(r),en(10===e.length)}catch(e){console.error("Error fetching workflows:",e)}finally{ee(!1)}})()},[Z]),(0,a.useEffect)(()=>{(async()=>{try{let e=await (0,z.yv)();v(e)}catch(e){console.error("Error fetching templates:",e)}})()},[]),(0,a.useEffect)(()=>{(async()=>{try{J(!0);let e=await (0,z.d5)(),r=[];for(let s of e){let e=await (0,z.CG)(s);r.push({name:s,value:e.value})}q(r)}catch(e){console.error("Error fetching API keys:",e)}finally{J(!1)}})()},[]),(0,a.useEffect)(()=>{(async()=>{ep(!0);try{let e=await (0,z.v8)();ed(e)}catch(e){console.error("Error fetching paused workflows:",e)}finally{ep(!1)}})()},[]);let eP=e=>new Date(e).toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),e_=async e=>{try{return(await (0,z.ML)(e)).slice(0,5)}catch(e){console.error("Error fetching workflow runs:",e)}},eD=r=>{e.push({pathname:"/workflows/".concat(r.id)})},eO=async()=>{ek()},eT=async()=>{try{let r="New ".concat(eS===i.Z.CHATBOT?"Chatbot":"Workflow"," ").concat(new Date().toLocaleString()),s=await (0,z.mw)({name:r,description:"",definition:{nodes:[],links:[],test_inputs:[],spur_type:eS}});eC(),e.push("/workflows/".concat(s.id))}catch(e){console.error("Error creating new workflow:",e),eI("Failed to create new spur","danger")}},eR=async()=>{try{let r=document.createElement("input");r.type="file",r.accept="application/json",r.onchange=async r=>{var s;let t=r.target,a=null===(s=t.files)||void 0===s?void 0:s[0];if(!a){alert("No file selected. Please try again.");return}let l=new FileReader;l.onload=async r=>{try{var s;let t=null===(s=r.target)||void 0===s?void 0:s.result;if("string"!=typeof t)return;let a=JSON.parse(t),l={name:"Imported Spur ".concat(new Date().toLocaleString()),description:a.description,definition:a.definition},n=await (0,z.mw)(l);e.push("/workflows/".concat(n.id))}catch(e){console.error("Error processing the JSON file:",e),alert("Failed to import workflow. Please ensure the file is a valid JSON.")}},l.readAsText(a)},r.click()}catch(e){console.error("Error importing workflow:",e)}},eA=async r=>{try{let s=await (0,z.B)(r);e.push("/workflows/".concat(s.id))}catch(e){console.error("Error using template:",e)}},eL=async e=>{if(window.confirm('Are you sure you want to delete workflow "'.concat(e.name,'"?')))try{await (0,z.L6)(e.id),s(r=>r.filter(r=>r.id!==e.id))}catch(e){console.error("Error deleting workflow:",e),alert("Failed to delete workflow. Please try again.")}},eW=async e=>{try{let r=await (0,z.Fj)(e.id);s(e=>[r,...e]),es(r.id),setTimeout(()=>{es(null)},2e3)}catch(e){console.error("Error duplicating workflow:",e),alert("Failed to duplicate workflow. Please try again.")}},eF=e=>{window.open("/trace/".concat(e),"_blank")},ez=async()=>{ei(!0);try{let e=et+1,r=await (0,z.bg)(e);if(r.length>0){let t=await Promise.all(r.map(e=>e_(e.id))).then(e=>{let s={};return r.forEach((r,t)=>{s[r.id]=e[t]||[]}),s});s(e=>[...e,...r].sort((e,r)=>new Date(r.updated_at).getTime()-new Date(e.updated_at).getTime())),X(e=>(0,n._)({},e,t)),ea(e),en(10===r.length)}else en(!1)}catch(e){console.error("Error loading more workflows:",e)}finally{ei(!1)}},eq=async(e,r,s)=>{if(eu)try{console.log("Selected workflow:",eu),console.log("Input data:",r);let t=eu.run.id,a=eu.run.workflow_id;if(console.log("Workflow ID:",a),console.log("Run ID:",t),t)try{await (0,z.ir)(t,{inputs:r,user_id:"current-user",action:e,comments:s}),eI("Workflow resumed with action: ".concat(e),"success"),eh(!1),em(null)}catch(e){console.error("Error resuming workflow:",e),eI("Failed to resume workflow","danger")}else console.error("Cannot resume workflow: Run ID is missing or invalid"),eI("Cannot resume workflow: missing run ID","danger");let l=await (0,z.v8)();ed(l)}catch(e){console.error("Error submitting human input:",e),eI("Error submitting human input","danger")}},eV=async(e,r)=>{try{let s=e.run.id;if(s){let e={inputs:{},user_id:"current-user",action:r,comments:"Quick ".concat(r.toLowerCase()," from dashboard")};await (0,z.ir)(s,e),eI("Workflow ".concat(r.toLowerCase(),"d successfully"),"success");let t=await (0,z.v8)();ed(t)}else console.error("Cannot perform action: Run ID is missing or invalid"),eI("Cannot perform action: missing run ID","danger")}catch(e){console.error("Error performing ".concat(r," action:"),e),eI("Failed to ".concat(r.toLowerCase()," workflow"),"danger")}},eJ=async e=>{try{let r=e.run.id;if(r){if(window.confirm("Are you sure you want to cancel this workflow? This action cannot be undone.")){await (0,z.mF)(r),eI("Workflow canceled successfully","success");let e=await (0,z.v8)();ed(e)}}else console.error("Cannot cancel workflow: Run ID is missing or invalid"),eI("Cannot cancel workflow: missing run ID","danger")}catch(e){console.error("Error canceling workflow:",e),eI("Failed to cancel workflow","danger")}},eB=(0,a.useCallback)(r=>{let s=r[0];if(!s)return;let t=new FileReader;t.onload=async r=>{try{var s;let t=null===(s=r.target)||void 0===s?void 0:s.result;if("string"!=typeof t)return;let a=JSON.parse(t),l={name:"Imported Spur ".concat(new Date().toLocaleString()),description:a.description,definition:a.definition},n=await (0,z.mw)(l);e.push("/workflows/".concat(n.id))}catch(e){console.error("Error processing dropped JSON file:",e),alert("Failed to import workflow. Please ensure the file is a valid JSON.")}},t.readAsText(s)},[e]),{getRootProps:eU,getInputProps:eH,isDragActive:eM}=(0,W.VB)({onDrop:eB,accept:{"application/json":[".json"]},noClick:!0,noKeyboard:!0});return(0,t.jsxs)("div",(0,o._)((0,n._)({},eU()),{className:"relative flex flex-col gap-2 max-w-7xl w-full mx-auto pt-2 px-6",children:[(0,t.jsx)("input",(0,n._)({},eH())),eM&&(0,t.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-primary/10 backdrop-blur-sm border-2 border-dashed border-primary rounded-lg z-50 transition-all duration-300 animate-in fade-in",children:[(0,t.jsx)(T.A,{className:"w-16 h-16 text-primary mb-4"}),(0,t.jsx)("p",{className:"text-primary text-xl font-bold",children:"Drop workflow JSON file here"}),(0,t.jsx)("p",{className:"text-primary/80 text-sm mt-2",children:"Release to import your workflow"})]}),(0,t.jsx)(A(),{children:(0,t.jsx)("link",{href:"https://assets.calendly.com/assets/external/widget.css",rel:"stylesheet"})}),ey&&ew&&(0,t.jsx)(d.B,{className:"mb-4",variant:"solid",color:ej,onClose:()=>ev(!1),children:ew}),(0,t.jsx)(Q,{}),(0,t.jsx)(Y,{isOpen:H,onClose:()=>M(!1)}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("header",{className:"mb-6 flex w-full items-center flex-col gap-2",children:[!V&&(0===R.length||R.every(e=>!e.value||""===e.value))&&(0,t.jsx)("div",{className:"w-full",children:(0,t.jsx)(d.B,{variant:"bordered",className:"mb-2",startContent:(0,t.jsx)(D.In,{icon:"lucide:alert-triangle",width:16}),children:"No API keys have been set. Please configure your API keys in the settings to use the application."})}),(0,t.jsxs)("div",{className:"flex w-full items-center",children:[(0,t.jsxs)("div",{className:"flex flex-col max-w-fit",id:"dashboard-title",children:[(0,t.jsx)("h1",{className:"text-lg font-bold text-default-900 lg:text-2xl",children:"Dashboard"}),(0,t.jsx)("p",{className:"text-small text-default-400 lg:text-medium",children:"Manage your spurs"})]}),(0,t.jsxs)("div",{className:"ml-auto flex items-center gap-2",id:"new-workflow-entries",children:[(0,t.jsx)(u.T,{className:"bg-foreground text-background dark:bg-foreground/90 dark:text-background/90",startContent:(0,t.jsx)(D.In,{className:"flex-none text-background/60",icon:"lucide:plus",width:16}),onPress:eO,children:"New Spur"}),(0,t.jsx)(u.T,{className:"bg-foreground text-background dark:bg-foreground/90 dark:text-background/90",startContent:(0,t.jsx)(D.In,{className:"flex-none text-background/60",icon:"lucide:upload",width:16}),onPress:eR,children:"Import Spur (or drop JSON file)"})]})]})]}),(0,t.jsxs)(m.D,{defaultExpandedKeys:new Set(["workflows","templates","human-tasks"]),selectionMode:"multiple",children:[(0,t.jsx)(x.R,{"aria-label":"Recent Spurs",title:(0,t.jsx)("h3",{className:"text-xl font-semibold",children:"Recent Spurs"}),children:$?(0,t.jsx)("div",{className:"flex justify-center p-4",children:(0,t.jsx)(h.o,{size:"lg"})}):r.length>0?(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsxs)(f.j,{"aria-label":"Saved Workflows",isHeaderSticky:!0,children:[(0,t.jsx)(p.X,{columns:[{key:"id",label:"ID"},{key:"name",label:"Name"},{key:"spur_type",label:"Type"},{key:"action",label:"Action"},{key:"recentRuns",label:"Recent Runs"},{key:"updated_at",label:"Last Modified"}],children:e=>(0,t.jsx)(w.e,{children:e.label},e.key)}),(0,t.jsx)(g.E,{items:r,children:e=>(0,t.jsx)(j.s,{className:"transition-colors duration-200 hover:bg-primary-50 dark:hover:bg-primary-800/10 ".concat(er===e.id?"bg-primary-50 dark:bg-primary-800/10":""),children:r=>{var s;return(0,t.jsx)(b.w,{children:"action"===r?(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(D.In,{icon:"solar:pen-bold",className:"cursor-pointer text-default-400",height:18,width:18,onClick:()=>eD(e),"aria-label":"Edit"}),(0,t.jsx)(D.In,{icon:"solar:copy-bold",className:"cursor-pointer text-default-400",height:18,width:18,onClick:()=>eW(e),"aria-label":"Duplicate"}),(0,t.jsx)(D.In,{icon:"solar:trash-bin-trash-bold",className:"cursor-pointer text-default-400",height:18,width:18,onClick:()=>eL(e),"aria-label":"Delete"})]}):"recentRuns"===r?(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:null===(s=G[e.id])||void 0===s?void 0:s.map(e=>(0,t.jsx)(y.R,{size:"sm",variant:"flat",className:"cursor-pointer",onClick:()=>eF(e.id),children:e.id},e.id))}):"name"===r?(0,t.jsx)(y.R,{size:"sm",variant:"flat",className:"cursor-pointer",onClick:()=>eD(e),children:e.name}):"spur_type"===r?(0,t.jsx)(U.A,{spurType:e.definition.spur_type}):"updated_at"===r?(0,t.jsx)("span",{className:"text-default-500",children:eP(N(e,r))}):N(e,r)})}},e.id)})]}),el&&(0,t.jsx)("div",{className:"flex justify-center mt-4",children:(0,t.jsx)(u.T,{variant:"flat",onPress:ez,isLoading:eo,startContent:!eo&&(0,t.jsx)(D.In,{icon:"lucide:plus",width:16}),children:eo?"Loading...":"Load More"})})]}):(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center p-12 my-8 bg-background rounded-xl border-border border shadow-sm",children:[(0,t.jsxs)("div",{className:"max-w-2xl text-center mb-12",children:[(0,t.jsx)("h3",{className:"text-2xl font-semibold mb-4 text-foreground flex items-center justify-center gap-2",children:"Welcome to PySpur!"}),(0,t.jsx)("p",{className:"text-lg text-muted-foreground",children:"Looks like you haven't created any spurs yet - let's get you started on your journey!"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 w-full max-w-4xl",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center p-6 bg-background hover:bg-accent/5 rounded-xl border-border border transition-all hover:shadow-md cursor-pointer",onClick:eO,children:[(0,t.jsx)("div",{className:"rounded-full bg-background p-4 mb-4 border border-border",children:(0,t.jsx)(D.In,{icon:"lucide:plus",className:"w-8 h-8 text-foreground"})}),(0,t.jsx)("h4",{className:"text-lg font-medium mb-3 text-foreground",children:"Create New"}),(0,t.jsx)("p",{className:"text-medium text-center text-muted-foreground",children:'Start fresh with your own creation using the "New Spur" button above'})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center p-6 bg-background hover:bg-accent/5 rounded-xl border-border border transition-all hover:shadow-md cursor-pointer",onClick:eR,children:[(0,t.jsx)("div",{className:"rounded-full bg-background p-4 mb-4 border border-border",children:(0,t.jsx)(D.In,{icon:"lucide:upload",className:"w-8 h-8 text-foreground"})}),(0,t.jsx)("h4",{className:"text-lg font-medium mb-3 text-foreground",children:"Import Existing"}),(0,t.jsx)("p",{className:"text-medium text-center text-muted-foreground",children:'Have a spur saved as JSON? Use the "Import Spur" button to bring it in'})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center p-6 bg-background hover:bg-accent/5 rounded-xl border-border border transition-all hover:shadow-md cursor-pointer",onClick:()=>{let e=document.querySelector('[aria-label="Spur Templates"]');null==e||e.scrollIntoView({behavior:"smooth"})},children:[(0,t.jsx)("div",{className:"rounded-full bg-background p-4 mb-4 border border-border",children:(0,t.jsx)(D.In,{icon:"lucide:layout-grid",className:"w-8 h-8 text-foreground"})}),(0,t.jsx)("h4",{className:"text-lg font-medium mb-3 text-foreground",children:"Use Template"}),(0,t.jsx)("p",{className:"text-medium text-center text-muted-foreground",children:"Get started quickly with our ready-to-go templates in the section below"})]})]})]})},"workflows"),(0,t.jsx)(x.R,{"aria-label":"Human Tasks",title:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold",children:"Spurs Awaiting Human Approval"}),ec.length>0&&(0,t.jsx)(y.R,{color:"warning",variant:"flat",size:"sm",children:ec.length})]}),children:ef?(0,t.jsx)("div",{className:"flex justify-center p-4",children:(0,t.jsx)(h.o,{size:"lg"})}):ec.length>0?(0,t.jsx)("div",{className:"space-y-4",children:ec.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-content2 rounded-lg border border-border",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)("h4",{className:"font-medium",children:e.workflow.name}),(0,t.jsx)(y.R,{size:"sm",color:"warning",children:"Paused"})]}),(0,t.jsx)("p",{className:"text-sm text-default-500 mb-2",children:e.current_pause.pause_message}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-xs text-default-400",children:[(0,t.jsxs)("span",{children:["Run ID: ",e.run.id]}),(0,t.jsx)("span",{children:"•"}),(0,t.jsxs)("span",{children:["Paused"," ",(0,O.m)(new Date(e.current_pause.pause_time),{addSuffix:!0})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(u.T,{color:"success",variant:"flat",onPress:()=>eV(e,"APPROVE"),startContent:(0,t.jsx)(D.In,{icon:"lucide:check",width:16}),isIconOnly:!0,size:"sm","aria-label":"Approve"}),(0,t.jsx)(u.T,{color:"danger",variant:"flat",onPress:()=>eV(e,"DECLINE"),startContent:(0,t.jsx)(D.In,{icon:"lucide:x",width:16}),isIconOnly:!0,size:"sm","aria-label":"Decline"}),(0,t.jsx)(u.T,{color:"primary",variant:"bordered",onPress:()=>{em(e),eh(!0)},startContent:(0,t.jsx)(D.In,{icon:"lucide:more-horizontal",width:16}),isIconOnly:!0,size:"sm","aria-label":"Details"}),(0,t.jsx)(u.T,{color:"default",variant:"light",onPress:()=>eJ(e),startContent:(0,t.jsx)(D.In,{icon:"lucide:trash-2",width:16}),isIconOnly:!0,size:"sm","aria-label":"Cancel Workflow"})]})]},e.run.id))}):(0,t.jsx)("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:(0,t.jsx)("p",{className:"text-muted-foreground",children:"No tasks currently requiring human approval."})})},"human-tasks"),(0,t.jsx)(x.R,{"aria-label":"Spur Templates",title:(0,t.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Spur Templates"}),children:(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-1 px-1 mb-8",children:l.map(e=>(0,t.jsx)(B,{title:e.name,description:e.description,features:e.features,onUse:()=>eA(e)},e.file_name))})},"templates")]})]}),eu&&(0,t.jsx)(K,{isOpen:ex,onClose:()=>{eh(!1),em(null)},workflow:eu,onSubmit:eq}),(0,t.jsx)(k.Y,{isOpen:eN,onClose:eC,children:(0,t.jsxs)(C.g,{children:[(0,t.jsx)(S.c,{className:"flex flex-col gap-1",children:"Create New Spur"}),(0,t.jsx)(E.h,{children:(0,t.jsxs)(I.U,{label:"Select the type of spur you want to create",value:eS,onChange:e=>eE(e.target.value),children:[(0,t.jsx)(P.O,{value:i.Z.WORKFLOW,description:"Create a standard workflow with nodes and edges",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(D.In,{icon:"lucide:workflow",width:20}),(0,t.jsx)("span",{children:"Workflow"})]})}),(0,t.jsx)(P.O,{value:i.Z.CHATBOT,description:"Create a chatbot with session management and conversational I/O",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(D.In,{icon:"lucide:message-square",width:20}),(0,t.jsx)("span",{children:"Chatbot"})]})})]})}),(0,t.jsxs)(_.q,{children:[(0,t.jsx)(u.T,{color:"danger",variant:"light",onPress:eC,children:"Cancel"}),(0,t.jsx)(u.T,{color:"primary",onPress:eT,children:"Create"})]})]})})]}))},ee=()=>(0,t.jsxs)("div",{className:"App relative",children:[(0,t.jsx)(l.A,{activePage:"dashboard"}),(0,t.jsx)($,{})]})}},e=>{var r=r=>e(e.s=r);e.O(0,[998,872,660,862,453,505,657,640,636,593,792],()=>r(87100)),_N_E=e.O()}]);