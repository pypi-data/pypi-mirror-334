{% raw %}
query value(
{% endraw %}
{% for variable_name in variable_names -%}
    ${{variable_name}}: ID!,
{% endfor -%}
    $eventTime: DateTime!
) {
{% for variable_name in variable_names -%}
    {{variable_name}}: entity(id: ${{variable_name}}) {
        name
        trait(id: "foresight:Datapoint") {
            quantity(key: "Value") {
                value(eventTime: $eventTime) {
                    value
                }
            }
        }
    }
{% endfor %}
}
{% raw %}
{% endraw %}