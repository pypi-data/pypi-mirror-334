"use strict";(self.webpackChunkmlflow_oidc_auth_front=self.webpackChunkmlflow_oidc_auth_front||[]).push([["src_app_features_admin-page_admin-page_module_ts"],{5670:(Xe,F,a)=>{a.r(F),a.d(F,{AdminPageModule:()=>Ae});var D=a(177),R=a(9417),p=a(8498),G=a(8250),E=a(5964),r=a(5558),h=a(8141),v=a(6354),m=function(n){return n.EDIT="EDIT",n.DELETE="DELETE",n.REVOKE="REVOKE",n.ADD="ADD",n.MANAGE="MANAGE",n}(m||{});const g={ADD:{name:"Add",icon:"add",action:m.ADD},EDIT:{name:"Edit",icon:"edit",action:m.EDIT},DELETE:{name:"Delete",icon:"delete",action:m.DELETE},REVOKE:{name:"Reset to fallback",icon:"key_off",action:m.REVOKE}},Y=[g.EDIT,g.REVOKE],K=[{title:"User name",key:"username"},{title:"Permissions",key:"permission"}];var e=a(4438),A=a(5351),d=a(2940),M=a(113);let x=(()=>{class n{constructor(t){this.dialog=t}openEditPermissionsModal(t,i,s){return this.dialog.open(G.rs,{data:{targetEntity:i,entity:t,currentPermission:s}}).afterClosed()}openGrantPermissionModal(t=M.D2.EXPERIMENT,i,s){return this.dialog.open(G.Kb,{data:{entityType:t,entities:i,targetName:s}}).afterClosed()}static{this.\u0275fac=function(i){return new(i||n)(e.KVO(A.bZ))}}static{this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var S=a(5417),O=a(9213),N=a(8834);let H=(()=>{class n{constructor(t,i,s,o,l,u,_){this.dialog=t,this.experimentDataService=i,this.permissionDataService=s,this.userDataService=o,this.route=l,this.permissionModalService=u,this.snackBarService=_,this.userColumnConfig=K,this.actions=Y,this.userDataSource=[]}ngOnInit(){this.experimentId=this.route.snapshot.paramMap.get("id")??"",this.experimentDataService.getUsersForExperiment(this.experimentId).subscribe(t=>this.userDataSource=t)}handleUserEdit(t){this.permissionModalService.openEditPermissionsModal(this.experimentId,t.username,t.permission).pipe((0,E.p)(Boolean),(0,r.n)(i=>this.permissionDataService.updateExperimentPermission({experiment_id:this.experimentId,permission:i,user_name:t.username})),(0,h.M)(()=>this.snackBarService.openSnackBar("Permissions updated successfully")),(0,r.n)(()=>this.experimentDataService.getUsersForExperiment(this.experimentId))).subscribe(i=>{this.userDataSource=i})}handleActions(t){const s={[m.EDIT]:this.handleUserEdit.bind(this),[m.REVOKE]:this.revokePermissionForUser.bind(this)}[t.action.action];s&&s(t.item)}revokePermissionForUser(t){this.permissionDataService.deleteExperimentPermission({experiment_id:this.experimentId,user_name:t.username}).pipe((0,h.M)(()=>this.snackBarService.openSnackBar("Permission revoked successfully")),(0,r.n)(()=>this.loadUsersForExperiment(this.experimentId))).subscribe(i=>this.userDataSource=i)}addUser(){this.userDataService.getAllUsers().pipe((0,v.T)(({users:t})=>t.filter(i=>!this.userDataSource.some(s=>s.username===i))),(0,r.n)(t=>this.dialog.open(G.$5,{data:{users:t}}).afterClosed()),(0,E.p)(Boolean),(0,r.n)(({user:t,permission:i})=>this.permissionDataService.createExperimentPermission({experiment_id:this.experimentId,permission:i,user_name:t})),(0,r.n)(()=>this.loadUsersForExperiment(this.experimentId))).subscribe(t=>this.userDataSource=t)}loadUsersForExperiment(t){return this.experimentDataService.getUsersForExperiment(t)}static{this.\u0275fac=function(i){return new(i||n)(e.rXU(A.bZ),e.rXU(d.qN),e.rXU(d.jd),e.rXU(d.Je),e.rXU(p.nX),e.rXU(x),e.rXU(d.vH))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["ml-experiment-permission-details"]],standalone:!1,decls:10,vars:3,consts:[[1,"my-3"],[1,"header-section"],["mat-button","",3,"click"],[3,"action","columnConfig","data","actions"]],template:function(i,s){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"h3"),e.EFF(3,"Experiment Access"),e.k0s(),e.j41(4,"button",2),e.bIt("click",function(){return s.addUser()}),e.j41(5,"mat-icon"),e.EFF(6,"add"),e.k0s(),e.j41(7,"span"),e.EFF(8,"Add"),e.k0s()()(),e.j41(9,"ml-table",3),e.bIt("action",function(l){return s.handleActions(l)}),e.k0s()()),2&i&&(e.R7$(9),e.Y8G("columnConfig",s.userColumnConfig)("data",s.userDataSource)("actions",s.actions))},dependencies:[S.O,O.An,N.$z],encapsulation:2})}}return n})();const Q=[g.EDIT,g.REVOKE],z=[{title:"User name",key:"username"},{title:"Permissions",key:"permission"}];function J(n,f){if(1&n){const t=e.RV6();e.j41(0,"ml-table",4),e.bIt("action",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.handleActions(s))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("columnConfig",t.userColumnConfig)("data",t.userDataSource)("actions",t.actions)}}let Z=(()=>{class n{constructor(t,i,s,o,l,u){this.route=t,this.modelDataService=i,this.permissionDataService=s,this.userDataService=o,this.snackService=l,this.permissionModalService=u,this.userDataSource=[],this.userColumnConfig=z,this.actions=Q}ngOnInit(){this.modelId=this.route.snapshot.paramMap.get("id")??"",this.loadUsersForModel(this.modelId).subscribe(t=>this.userDataSource=t)}revokePermissionForUser(t){this.permissionDataService.deleteModelPermission({name:this.modelId,user_name:t.username}).pipe((0,h.M)(()=>this.snackService.openSnackBar("Permission revoked successfully")),(0,r.n)(()=>this.loadUsersForModel(this.modelId))).subscribe(i=>this.userDataSource=i)}editPermissionForUser({username:t,permission:i}){this.permissionModalService.openEditPermissionsModal(this.modelId,t,i).pipe((0,E.p)(Boolean),(0,r.n)(s=>this.permissionDataService.updateModelPermission({name:this.modelId,permission:s,user_name:t})),(0,h.M)(()=>this.snackService.openSnackBar("Permission updated")),(0,r.n)(()=>this.loadUsersForModel(this.modelId))).subscribe(s=>{this.userDataSource=s})}handleActions({action:t,item:i}){const o={[m.REVOKE]:this.revokePermissionForUser.bind(this),[m.EDIT]:this.editPermissionForUser.bind(this)}[t.action];o&&o(i)}loadUsersForModel(t){return this.modelDataService.getUsersForModel(t)}addUser(){this.userDataService.getAllUsers().pipe((0,v.T)(({users:t})=>t.filter(i=>!this.userDataSource.some(s=>s.username===i))),(0,r.n)(t=>this.permissionModalService.openGrantPermissionModal(M.D2.MODEL,t.map((i,s)=>({id:s+i,name:i})),this.modelId)),(0,E.p)(Boolean),(0,r.n)(({entity:t,permission:i})=>this.permissionDataService.createModelPermission({name:this.modelId,permission:i,user_name:t.name})),(0,r.n)(()=>this.loadUsersForModel(this.modelId))).subscribe(t=>{this.userDataSource=t})}static{this.\u0275fac=function(i){return new(i||n)(e.rXU(p.nX),e.rXU(d.EE),e.rXU(d.jd),e.rXU(d.Je),e.rXU(d.vH),e.rXU(x))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["ml-model-permission-details"]],standalone:!1,decls:10,vars:1,consts:[[1,"my-3"],[1,"header-section"],["mat-button","",3,"click"],[3,"columnConfig","data","actions","action",4,"ngIf"],[3,"action","columnConfig","data","actions"]],template:function(i,s){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"h3"),e.EFF(3,"Model Access"),e.k0s(),e.j41(4,"button",2),e.bIt("click",function(){return s.addUser()}),e.j41(5,"mat-icon"),e.EFF(6,"add"),e.k0s(),e.j41(7,"span"),e.EFF(8,"Add"),e.k0s()()(),e.DNE(9,J,1,3,"ml-table",3),e.k0s()),2&i&&(e.R7$(9),e.Y8G("ngIf",s.userDataSource.length))},dependencies:[D.bT,S.O,O.An,N.$z],encapsulation:2})}}return n})();var W=a(7468);const w=[{title:"Model name",key:"name"},{title:"Permissions",key:"permission"},{title:"Type",key:"type"}],q=[{title:"Experiment Name",key:"name"},{title:"Permission",key:"permission"},{title:"Type",key:"type"}],ee=[g.EDIT,g.REVOKE],te=[g.EDIT,g.REVOKE];var C=a(5412),I=a(6850);const ie=["userTabs"];function se(n,f){if(1&n){const t=e.RV6();e.j41(0,"ml-table",7),e.bIt("action",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.handleExperimentActions(s))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("columnConfig",t.experimentsColumnConfig)("data",t.experimentsDataSource)("actions",t.experimentsActions)}}function ne(n,f){if(1&n){const t=e.RV6();e.j41(0,"ml-table",7),e.bIt("action",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.handleModelActions(s))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("columnConfig",t.modelsColumnConfig)("data",t.modelsDataSource)("actions",t.modelsActions)}}let y=(()=>{class n{constructor(t,i,s,o,l,u,_){this.expDataService=t,this.modelDataService=i,this.permissionDataService=s,this.route=o,this.permissionModalService=l,this.snackBarService=u,this.router=_,this.userId="",this.experimentsColumnConfig=q,this.modelsColumnConfig=w,this.experimentsDataSource=[],this.modelsDataSource=[],this.experimentsActions=ee,this.modelsActions=te,this.tabIndexMapping=["experiments","models"]}ngOnInit(){this.userId=this.route.snapshot.paramMap.get("id")??"",(0,W.p)([this.expDataService.getExperimentsForUser(this.userId),this.modelDataService.getModelsForUser(this.userId)]).subscribe(([t,i])=>{this.experimentsDataSource=t,this.modelsDataSource=i})}ngAfterViewInit(){const t=String(this.route.snapshot.url[2]);this.permissionsTabs.selectedIndex=t?this.tabIndexMapping.indexOf(t):0}addModelPermissionToUser(){return this.modelDataService.getAllModels().pipe((0,v.T)(t=>t.map((i,s)=>({...i,id:`${s}-${i.name}`}))),(0,v.T)(t=>t.filter(i=>!this.modelsDataSource.some(s=>s.name===i.name))),(0,r.n)(t=>this.permissionModalService.openGrantPermissionModal(M.D2.MODEL,t,this.userId)),(0,E.p)(Boolean),(0,r.n)(({entity:t,permission:i})=>this.permissionDataService.createModelPermission({user_name:this.userId,name:t.name,permission:i})),(0,h.M)(()=>this.snackBarService.openSnackBar("Permission granted successfully")),(0,r.n)(()=>this.modelDataService.getModelsForUser(this.userId))).subscribe(t=>this.modelsDataSource=t)}addExperimentPermissionToUser(){this.expDataService.getAllExperiments().pipe((0,v.T)(t=>t.filter(i=>!this.experimentsDataSource.some(s=>s.id===i.id))),(0,r.n)(t=>this.permissionModalService.openGrantPermissionModal(M.D2.EXPERIMENT,t,this.userId)),(0,E.p)(Boolean),(0,r.n)(({entity:t,permission:i})=>this.permissionDataService.createExperimentPermission({user_name:this.userId,experiment_name:t.name,permission:i})),(0,h.M)(()=>this.snackBarService.openSnackBar("Permission granted successfully")),(0,r.n)(()=>this.expDataService.getExperimentsForUser(this.userId))).subscribe(t=>this.experimentsDataSource=t)}handleExperimentActions(t){const s={[m.EDIT]:this.handleEditUserPermissionForExperiment.bind(this),[m.REVOKE]:this.revokeExperimentPermissionForUser.bind(this)}[t.action.action];s&&s(t.item)}revokeExperimentPermissionForUser(t){t.type===C.tX.USER?this.permissionDataService.deleteExperimentPermission({experiment_id:t.id,user_name:this.userId}).pipe((0,h.M)(()=>this.snackBarService.openSnackBar("Permission revoked successfully")),(0,r.n)(()=>this.expDataService.getExperimentsForUser(this.userId))).subscribe(i=>this.experimentsDataSource=i):this.snackBarService.openSnackBar("Nothing to reset")}revokeModelPermissionForUser({name:t,type:i}){i===C.tX.USER?this.permissionDataService.deleteModelPermission({name:t,user_name:this.userId}).pipe((0,h.M)(()=>this.snackBarService.openSnackBar("Permission revoked successfully")),(0,r.n)(()=>this.modelDataService.getModelsForUser(this.userId))).subscribe(s=>this.modelsDataSource=s):this.snackBarService.openSnackBar("Nothing to reset")}handleModelActions({action:t,item:i}){const o={[m.EDIT]:this.handleEditUserPermissionForModel.bind(this),[m.REVOKE]:this.revokeModelPermissionForUser.bind(this)}[t.action];o&&o(i)}handleEditUserPermissionForModel({name:t,permission:i,type:s}){this.permissionModalService.openEditPermissionsModal(t,this.userId,i).pipe((0,E.p)(Boolean),(0,r.n)(o=>{const l={name:t,permission:o,user_name:this.userId};return s!==C.tX.FALLBACK?this.permissionDataService.createModelPermission(l):this.permissionDataService.updateModelPermission(l)}),(0,h.M)(()=>this.snackBarService.openSnackBar("Permissions updated successfully")),(0,r.n)(()=>this.modelDataService.getModelsForUser(this.userId))).subscribe(o=>this.modelsDataSource=o)}handleEditUserPermissionForExperiment({id:t,permission:i,type:s}){this.permissionModalService.openEditPermissionsModal(t,this.userId,i).pipe((0,E.p)(Boolean),(0,r.n)(o=>{const l={experiment_id:t,permission:o,user_name:this.userId};return s!==C.tX.USER?this.permissionDataService.createExperimentPermission(l):this.permissionDataService.updateExperimentPermission(l)}),(0,h.M)(()=>this.snackBarService.openSnackBar("Permissions updated successfully")),(0,r.n)(()=>this.expDataService.getExperimentsForUser(this.userId))).subscribe(o=>this.experimentsDataSource=o)}handleTabSelection(t){this.router.navigate([`../${this.tabIndexMapping[t]}`],{relativeTo:this.route})}static{this.\u0275fac=function(i){return new(i||n)(e.rXU(d.qN),e.rXU(d.EE),e.rXU(d.jd),e.rXU(p.nX),e.rXU(x),e.rXU(d.vH),e.rXU(p.Ix))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["ml-user-permission-details"]],viewQuery:function(i,s){if(1&i&&e.GBs(ie,5),2&i){let o;e.mGM(o=e.lsd())&&(s.permissionsTabs=o.first)}},standalone:!1,decls:10,vars:2,consts:[["userTabs",""],[3,"selectedIndexChange"],["label","Experiments"],[1,"my-3"],[1,"header-section"],[3,"columnConfig","data","actions","action",4,"ngIf"],["label","Models"],[3,"action","columnConfig","data","actions"]],template:function(i,s){if(1&i){const o=e.RV6();e.j41(0,"mat-tab-group",1,0),e.bIt("selectedIndexChange",function(u){return e.eBV(o),e.Njj(s.handleTabSelection(u))}),e.j41(2,"mat-tab",2)(3,"div",3),e.nrm(4,"div",4),e.DNE(5,se,1,3,"ml-table",5),e.k0s()(),e.j41(6,"mat-tab",6)(7,"div",3),e.nrm(8,"div",4),e.DNE(9,ne,1,3,"ml-table",5),e.k0s()()()}2&i&&(e.R7$(5),e.Y8G("ngIf",s.experimentsDataSource.length),e.R7$(4),e.Y8G("ngIf",s.modelsDataSource.length))},dependencies:[D.bT,S.O,I.mq,I.T8],styles:[".header-section[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:36px}.header-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;padding:0}"]})}}return n})();const oe=[{title:"Experiment name",key:"name"},{title:"Permission",key:"permission"}],re=[g.EDIT,g.REVOKE],ae=[{title:"Model name",key:"name"},{title:"Permission",key:"permission"}],ce=[g.EDIT,g.REVOKE];var k=a(2299),me=a(1626);let X=(()=>{class n{constructor(t){this.http=t}getAllGroups(){return this.http.get(k.H.ALL_GROUPS)}getAllExperimentsForGroup(t){return this.http.get(k.H.EXPERIMENTS_FOR_GROUP.replace("${groupName}",t))}getAllRegisteredModelsForGroup(t){return this.http.get(k.H.MODELS_FOR_GROUP.replace("${groupName}",t))}static{this.\u0275fac=function(i){return new(i||n)(e.KVO(me.Qq))}}static{this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const le=["permissionsTabs"];let B=(()=>{class n{constructor(t,i,s,o,l,u,_,ye){this.groupDataService=t,this.route=i,this.permissionDataService=s,this.permissionModalService=o,this.experimentsDataService=l,this.snackBarService=u,this.modelDataService=_,this.router=ye,this.groupName="",this.experimentColumnConfig=oe,this.experimentDataSource=[],this.experimentActions=re,this.modelColumnConfig=ae,this.modelDataSource=[],this.modelActions=ce,this.tabIndexMapping=["experiments","models"]}ngOnInit(){this.groupName=this.route.snapshot.paramMap.get("id")??"",this.groupDataService.getAllExperimentsForGroup(this.groupName).subscribe(t=>this.experimentDataSource=t),this.groupDataService.getAllRegisteredModelsForGroup(this.groupName).subscribe(t=>this.modelDataSource=t)}ngAfterViewInit(){const t=String(this.route.snapshot.url[2]);this.permissionsTabs.selectedIndex=t?this.tabIndexMapping.indexOf(t):0}openModalAddExperimentPermissionToGroup(){this.experimentsDataService.getAllExperiments().pipe((0,v.T)(t=>t.filter(i=>!this.experimentDataSource.some(s=>s.name===i.name))),(0,r.n)(t=>this.permissionModalService.openGrantPermissionModal(M.D2.EXPERIMENT,t,this.groupName)),(0,E.p)(Boolean),(0,r.n)(t=>this.permissionDataService.addExperimentPermissionToGroup(this.groupName,t.entity.id,t.permission)),(0,h.M)(()=>this.snackBarService.openSnackBar("Permission granted successfully")),(0,r.n)(()=>this.groupDataService.getAllExperimentsForGroup(this.groupName))).subscribe(t=>this.experimentDataSource=t)}openModalAddModelPermissionToGroup(){this.modelDataService.getAllModels().pipe((0,v.T)(t=>t.filter(i=>!this.modelDataSource.some(s=>s.name===i.name)).map((i,s)=>({...i,id:`${s}-${i.name}`}))),(0,r.n)(t=>this.permissionModalService.openGrantPermissionModal(M.D2.MODEL,t,this.groupName)),(0,E.p)(Boolean),(0,r.n)(t=>this.permissionDataService.addModelPermissionToGroup(t.entity.name,this.groupName,t.permission)),(0,h.M)(()=>this.snackBarService.openSnackBar("Permission granted successfully")),(0,r.n)(()=>this.groupDataService.getAllRegisteredModelsForGroup(this.groupName))).subscribe(t=>this.modelDataSource=t)}handleExperimentActions(t){const s={[m.EDIT]:this.handleEditExperimentPermissionForGroup.bind(this),[m.REVOKE]:this.revokeExperimentPermissionForGroup.bind(this)}[t.action.action];s&&s(t.item)}handleEditExperimentPermissionForGroup(t){this.permissionModalService.openEditPermissionsModal(t.name,this.groupName,t.permission).pipe((0,E.p)(Boolean),(0,r.n)(i=>this.permissionDataService.updateExperimentPermissionForGroup(this.groupName,t.id,i)),(0,h.M)(()=>this.snackBarService.openSnackBar("Permission updated successfully")),(0,r.n)(()=>this.groupDataService.getAllExperimentsForGroup(this.groupName))).subscribe(i=>this.experimentDataSource=i)}revokeExperimentPermissionForGroup(t){this.permissionDataService.removeExperimentPermissionFromGroup(this.groupName,t.id).pipe((0,h.M)(()=>this.snackBarService.openSnackBar("Permission revoked successfully")),(0,r.n)(()=>this.groupDataService.getAllExperimentsForGroup(this.groupName))).subscribe(i=>this.experimentDataSource=i)}handleModelActions(t){const s={[m.EDIT]:this.handleEditModelPermissionForGroup.bind(this),[m.REVOKE]:this.revokeModelPermissionForGroup.bind(this)}[t.action.action];s&&s(t.item)}handleEditModelPermissionForGroup(t){this.permissionModalService.openEditPermissionsModal(t.name,this.groupName,t.permission).pipe((0,E.p)(Boolean),(0,r.n)(i=>this.permissionDataService.updateModelPermissionForGroup(t.name,this.groupName,i)),(0,h.M)(()=>this.snackBarService.openSnackBar("Permission updated successfully")),(0,r.n)(()=>this.groupDataService.getAllRegisteredModelsForGroup(this.groupName))).subscribe(i=>this.modelDataSource=i)}revokeModelPermissionForGroup(t){this.permissionDataService.removeModelPermissionFromGroup(t.name,this.groupName).pipe((0,h.M)(()=>this.snackBarService.openSnackBar("Permission revoked successfully")),(0,r.n)(()=>this.groupDataService.getAllRegisteredModelsForGroup(this.groupName))).subscribe(i=>this.modelDataSource=i)}handleTabSelection(t){this.router.navigate([`../${this.tabIndexMapping[t]}`],{relativeTo:this.route})}static{this.\u0275fac=function(i){return new(i||n)(e.rXU(X),e.rXU(p.nX),e.rXU(d.jd),e.rXU(x),e.rXU(d.qN),e.rXU(d.vH),e.rXU(d.EE),e.rXU(p.Ix))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["ml-group-permission-details"]],viewQuery:function(i,s){if(1&i&&e.GBs(le,5),2&i){let o;e.mGM(o=e.lsd())&&(s.permissionsTabs=o.first)}},standalone:!1,decls:21,vars:6,consts:[["permissionsTabs",""],[3,"selectedIndexChange"],["label","Experiments"],[1,"my-3"],[1,"header-section"],["mat-button","",3,"click"],[3,"action","columnConfig","data","actions"],["label","Models"]],template:function(i,s){if(1&i){const o=e.RV6();e.j41(0,"mat-tab-group",1,0),e.bIt("selectedIndexChange",function(u){return e.eBV(o),e.Njj(s.handleTabSelection(u))}),e.j41(2,"mat-tab",2)(3,"div",3)(4,"div",4)(5,"button",5),e.bIt("click",function(){return e.eBV(o),e.Njj(s.openModalAddExperimentPermissionToGroup())}),e.j41(6,"mat-icon"),e.EFF(7,"add"),e.k0s(),e.j41(8,"span"),e.EFF(9,"Add"),e.k0s()()()(),e.j41(10,"ml-table",6),e.bIt("action",function(u){return e.eBV(o),e.Njj(s.handleExperimentActions(u))}),e.k0s()(),e.j41(11,"mat-tab",7)(12,"div",3)(13,"div",3)(14,"div",4)(15,"button",5),e.bIt("click",function(){return e.eBV(o),e.Njj(s.openModalAddModelPermissionToGroup())}),e.j41(16,"mat-icon"),e.EFF(17,"add"),e.k0s(),e.j41(18,"span"),e.EFF(19,"Add"),e.k0s()()()(),e.j41(20,"ml-table",6),e.bIt("action",function(u){return e.eBV(o),e.Njj(s.handleModelActions(u))}),e.k0s()()()()}2&i&&(e.R7$(10),e.Y8G("columnConfig",s.experimentColumnConfig)("data",s.experimentDataSource)("actions",s.experimentActions),e.R7$(10),e.Y8G("columnConfig",s.modelColumnConfig)("data",s.modelDataSource)("actions",s.modelActions))},dependencies:[S.O,O.An,N.$z,I.mq,I.T8],encapsulation:2})}}return n})();var c=function(n){return n.PERMISSIONS="permissions",n.USER="user",n.EXPERIMENT="experiment",n.MODEL="model",n.GROUP="group",n.USERS="users",n.EXPERIMENTS="experiments",n.MODELS="models",n.GROUPS="groups",n}(c||{}),P=a(980);const pe=[{title:"User name",key:"user"}],de=[g.EDIT];var U=a(9183);function ue(n,f){if(1&n){const t=e.RV6();e.j41(0,"ml-table",2),e.bIt("action",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.handleItemAction(s))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("columnConfig",t.columnConfig)("data",t.dataSource)("actions",t.actions)}}function he(n,f){1&n&&(e.j41(0,"div",3),e.nrm(1,"mat-spinner",4),e.k0s()),2&n&&(e.R7$(),e.Y8G("diameter",40))}let ge=(()=>{class n{constructor(t,i,s){this.router=t,this.route=i,this.userDataService=s,this.columnConfig=pe,this.actions=de,this.dataSource=[],this.isLoading=!1}ngOnInit(){this.isLoading=!0,this.userDataService.getAllUsers().pipe((0,P.j)(()=>this.isLoading=!1)).subscribe(({users:t})=>this.dataSource=t.map(i=>({user:i})))}handleItemAction({action:t,item:i}){const o={[m.EDIT]:this.handleUserEdit.bind(this)}[t.action];o&&o(i)}handleUserEdit({user:t}){this.router.navigate([`../${c.USER}/`+t],{relativeTo:this.route})}static{this.\u0275fac=function(i){return new(i||n)(e.rXU(p.Ix),e.rXU(p.nX),e.rXU(d.Je))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["ml-user-permissions"]],standalone:!1,decls:3,vars:2,consts:[["loader",""],[3,"columnConfig","data","actions","action",4,"ngIf","ngIfElse"],[3,"action","columnConfig","data","actions"],[1,"loader","d-flex","justify-content-center","align-items-center","my-5"],[3,"diameter"]],template:function(i,s){if(1&i&&e.DNE(0,ue,1,3,"ml-table",1)(1,he,2,1,"ng-template",null,0,e.C5r),2&i){const o=e.sdS(2);e.Y8G("ngIf",!s.isLoading)("ngIfElse",o)}},dependencies:[D.bT,S.O,U.LG],encapsulation:2})}}return n})();const Ee=[{action:m.EDIT,icon:"edit",name:"Edit"}],fe=[{title:"Experiment Name",key:"name"}];function Se(n,f){if(1&n){const t=e.RV6();e.j41(0,"ml-table",2),e.bIt("action",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.handleActions(s))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("columnConfig",t.columnConfig)("data",t.dataSource)("actions",t.actions)}}function De(n,f){1&n&&(e.j41(0,"div",3),e.nrm(1,"mat-spinner",4),e.k0s()),2&n&&(e.R7$(),e.Y8G("diameter",40))}let ve=(()=>{class n{constructor(t,i,s){this.router=t,this.route=i,this.experimentDataService=s,this.columnConfig=fe,this.dataSource=[],this.actions=Ee,this.isLoading=!1}ngOnInit(){this.isLoading=!0,this.experimentDataService.getAllExperiments().pipe((0,P.j)(()=>this.isLoading=!1)).subscribe(t=>this.dataSource=t)}handleActions(t){const s={[m.EDIT]:this.handleExperimentEdit.bind(this)}[t.action.action];s&&s(t.item)}handleExperimentEdit({id:t}){this.router.navigate([`../${c.EXPERIMENT}/`+t],{relativeTo:this.route})}static{this.\u0275fac=function(i){return new(i||n)(e.rXU(p.Ix),e.rXU(p.nX),e.rXU(d.qN))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["ml-experiment-permissions"]],standalone:!1,decls:3,vars:2,consts:[["loader",""],[3,"columnConfig","data","actions","action",4,"ngIf","ngIfElse"],[3,"action","columnConfig","data","actions"],[1,"loader","d-flex","justify-content-center","align-items-center","my-5"],[3,"diameter"]],template:function(i,s){if(1&i&&e.DNE(0,Se,1,3,"ml-table",1)(1,De,2,1,"ng-template",null,0,e.C5r),2&i){const o=e.sdS(2);e.Y8G("ngIf",!s.isLoading)("ngIfElse",o)}},dependencies:[D.bT,S.O,U.LG],encapsulation:2})}}return n})();const Me=[{title:"Model Name",key:"name"}],Ie=[g.EDIT];function be(n,f){if(1&n){const t=e.RV6();e.j41(0,"ml-table",2),e.bIt("action",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.handleAction(s))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("columnConfig",t.columnConfig)("data",t.dataSource)("actions",t.actions)}}function _e(n,f){1&n&&(e.j41(0,"div",3),e.nrm(1,"mat-spinner",4),e.k0s()),2&n&&(e.R7$(),e.Y8G("diameter",40))}let xe=(()=>{class n{constructor(t,i,s){this.route=t,this.router=i,this.modelDataService=s,this.columnConfig=Me,this.dataSource=[],this.actions=Ie,this.isLoading=!1}ngOnInit(){this.isLoading=!0,this.modelDataService.getAllModels().pipe((0,P.j)(()=>this.isLoading=!1)).subscribe(t=>{this.dataSource=t})}handleModelEdit({name:t}){this.router.navigate([`../${c.MODEL}/`+t],{relativeTo:this.route})}handleAction({action:t,item:i}){const o={[m.EDIT]:this.handleModelEdit.bind(this)}[t.action];o&&o(i)}static{this.\u0275fac=function(i){return new(i||n)(e.rXU(p.nX),e.rXU(p.Ix),e.rXU(d.EE))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["ml-model-permissions"]],standalone:!1,decls:3,vars:2,consts:[["loader",""],[3,"columnConfig","data","actions","action",4,"ngIf","ngIfElse"],[3,"action","columnConfig","data","actions"],[1,"loader","d-flex","justify-content-center","align-items-center","my-5"],[3,"diameter"]],template:function(i,s){if(1&i&&e.DNE(0,be,1,3,"ml-table",1)(1,_e,2,1,"ng-template",null,0,e.C5r),2&i){const o=e.sdS(2);e.Y8G("ngIf",!s.isLoading)("ngIfElse",o)}},dependencies:[D.bT,S.O,U.LG],encapsulation:2})}}return n})();const Ce=[{title:"Group name",key:"group"}],Pe=[g.EDIT];function Ue(n,f){if(1&n){const t=e.RV6();e.j41(0,"ml-table",2),e.bIt("action",function(s){e.eBV(t);const o=e.XpG();return e.Njj(o.handleItemAction(s))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("columnConfig",t.columnConfig)("data",t.dataSource)("actions",t.actions)}}function Te(n,f){1&n&&(e.j41(0,"div",3),e.nrm(1,"mat-spinner",4),e.k0s()),2&n&&(e.R7$(),e.Y8G("diameter",40))}let Ge=(()=>{class n{constructor(t,i,s){this.router=t,this.route=i,this.groupDataService=s,this.columnConfig=Ce,this.dataSource=[],this.actions=Pe,this.isLoading=!1}ngOnInit(){this.isLoading=!0,this.groupDataService.getAllGroups().pipe((0,P.j)(()=>this.isLoading=!1)).subscribe(({groups:t})=>this.dataSource=t.map(i=>({group:i})))}handleItemAction({action:t,item:i}){const o={[m.EDIT]:this.handleUserEdit.bind(this)}[t.action];o&&o(i)}handleUserEdit({group:t}){this.router.navigate([`../${c.GROUP}/`+t],{relativeTo:this.route})}static{this.\u0275fac=function(i){return new(i||n)(e.rXU(p.Ix),e.rXU(p.nX),e.rXU(X))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["ml-group-permissions"]],standalone:!1,decls:3,vars:2,consts:[["loader",""],[3,"columnConfig","data","actions","action",4,"ngIf","ngIfElse"],[3,"action","columnConfig","data","actions"],[1,"loader","d-flex","justify-content-center","align-items-center","my-5"],[3,"diameter"]],template:function(i,s){if(1&i&&e.DNE(0,Ue,1,3,"ml-table",1)(1,Te,2,1,"ng-template",null,0,e.C5r),2&i){const o=e.sdS(2);e.Y8G("ngIf",!s.isLoading)("ngIfElse",o)}},dependencies:[D.bT,S.O,U.LG],encapsulation:2})}}return n})();const Oe=["permissionsTabs"];let T=(()=>{class n{constructor(t,i){this.route=t,this.router=i,this.tabIndexMapping=[c.USERS,c.EXPERIMENTS,c.MODELS,c.GROUPS]}ngAfterViewInit(){const t=this.route.snapshot.routeConfig?.path;this.permissionsTabs.selectedIndex=t?this.tabIndexMapping.indexOf(t):0}handleTabSelection(t){this.router.navigate([`../${this.tabIndexMapping[t]}`],{relativeTo:this.route})}static{this.\u0275fac=function(i){return new(i||n)(e.rXU(p.nX),e.rXU(p.Ix))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["ml-permissions"]],viewQuery:function(i,s){if(1&i&&e.GBs(Oe,5),2&i){let o;e.mGM(o=e.lsd())&&(s.permissionsTabs=o.first)}},standalone:!1,decls:14,vars:0,consts:[["permissionsTabs",""],[3,"selectedIndexChange"],["label","Users permissions"],[1,"my-3"],["label","Experiment permissions"],["label","Model permissions"],["label","Group permissions"]],template:function(i,s){if(1&i){const o=e.RV6();e.j41(0,"mat-tab-group",1,0),e.bIt("selectedIndexChange",function(u){return e.eBV(o),e.Njj(s.handleTabSelection(u))}),e.j41(2,"mat-tab",2)(3,"div",3),e.nrm(4,"ml-user-permissions"),e.k0s()(),e.j41(5,"mat-tab",4)(6,"div",3),e.nrm(7,"ml-experiment-permissions"),e.k0s()(),e.j41(8,"mat-tab",5)(9,"div",3),e.nrm(10,"ml-model-permissions"),e.k0s()(),e.j41(11,"mat-tab",6)(12,"div",3),e.nrm(13,"ml-group-permissions"),e.k0s()()()}},dependencies:[I.mq,I.T8,ge,ve,xe,Ge],encapsulation:2})}}return n})();const b=n=>{const[f,t]=n.split("/");return`${f} / ${t}`},Ne=[{path:`${c.USERS}`,component:T},{path:`${c.USER}/:id/experiments`,component:y,data:{breadcrumb:b}},{path:`${c.USER}/:id/models`,component:y,data:{breadcrumb:b}},{path:`${c.USER}/:id`,redirectTo:`${c.USER}/:id/experiments`},{path:`${c.EXPERIMENTS}`,component:T},{path:`${c.EXPERIMENT}/:id`,component:H,data:{breadcrumb:b}},{path:`${c.MODELS}`,component:T},{path:`${c.MODEL}/:id`,component:Z,data:{breadcrumb:b}},{path:`${c.GROUPS}`,component:T},{path:`${c.GROUP}/:id/experiments`,component:B,data:{breadcrumb:b}},{path:`${c.GROUP}/:id/models`,component:B,data:{breadcrumb:b}},{path:`${c.GROUP}/:id`,pathMatch:"full",redirectTo:`${c.GROUP}/:id/experiments`},{path:"**",redirectTo:`${c.USERS}`}];let ke=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[p.iI.forChild(Ne),p.iI]})}}return n})();var Fe=a(300);let Ae=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[D.MD,Fe.G,ke,R.YN,p.iI]})}}return n})()}}]);