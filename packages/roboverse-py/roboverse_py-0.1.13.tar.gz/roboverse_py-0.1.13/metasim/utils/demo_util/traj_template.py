import pickle


def dict_to_pkl(data, filename):
    with open(filename, "wb") as f:
        pickle.dump(data, f)


# take close box as an example
data_template = {
    "franka": [
        {
            "action": [
                # action 0
                {
                    "dof_pos_target": {
                        "panda_joint1": -2.3806078388588503e-06,
                        "panda_joint2": 0.1750042736530304,
                        "panda_joint3": 9.092956133827101e-06,
                        "panda_joint4": -0.8729740977287292,
                        "panda_joint5": 5.131112629896961e-06,
                        "panda_joint6": 1.221634864807129,
                        "panda_joint7": 0.7853959798812866,
                        "panda_finger_joint1": 0.03999824821949005,
                        "panda_finger_joint2": 0.04000125080347061,
                    }
                }
                # action 1
                # ...
            ],
            "init_state": {
                "box_base": {
                    "pos": [0.2565089166164398, 0.1984991729259491, 0.07473278045654297],
                    "rot": [0.7069969773292542, 0.012462549842894077, -0.7069969773292542, 0.012462549842894077],
                    "dof_pos": {"box_joint": 2.3649210929870605},
                },
                "franka": {
                    "pos": [-0.26765137910842896, -0.0052999998442828655, 0.00031763582956045866],
                    "rot": [0.999606728553772, 0.0002215634740423411, 0.0028197357896715403, -0.0061978623270988464],
                    "dof_pos": {
                        "panda_joint1": 9.572522685630247e-07,
                        "panda_joint2": 0.1750054657459259,
                        "panda_joint3": 2.8940730771864764e-06,
                        "panda_joint4": -0.8729366660118103,
                        "panda_joint5": -9.889257853501476e-06,
                        "panda_joint6": 1.2216076850891113,
                        "panda_joint7": 0.7853957414627075,
                        "panda_finger_joint1": 0.0399974063038826,
                        "panda_finger_joint2": 0.04000125825405121,
                    },
                },
            },
            "states": [
                # state 0
                {
                    "box_base": {
                        "pos": [0.2565089166164398, 0.1984991729259491, 0.07473278045654297],
                        "rot": [0.7069969773292542, 0.012462549842894077, -0.7069969773292542, 0.012462549842894077],
                        "dof_pos": {"box_joint": 2.3649210929870605},
                    },
                    "franka": {
                        "pos": [-0.26765137910842896, -0.0052999998442828655, 0.00031763582956045866],
                        "rot": [
                            0.999606728553772,
                            0.0002215634740423411,
                            0.0028197357896715403,
                            -0.0061978623270988464,
                        ],
                        "dof_pos": {
                            "panda_joint1": -2.3806078388588503e-06,
                            "panda_joint2": 0.1750042736530304,
                            "panda_joint3": 9.092956133827101e-06,
                            "panda_joint4": -0.8729740977287292,
                            "panda_joint5": 5.131112629896961e-06,
                            "panda_joint6": 1.221634864807129,
                            "panda_joint7": 0.7853959798812866,
                            "panda_finger_joint1": 0.03999824821949005,
                            "panda_finger_joint2": 0.04000125080347061,
                        },
                    },
                }
                # state 1
                # ...
            ],
            "extra": None,
        },
        # 'actions', 'init_state', 'states'
    ]
}


dict_to_pkl(data_template, "data_template.pkl")
